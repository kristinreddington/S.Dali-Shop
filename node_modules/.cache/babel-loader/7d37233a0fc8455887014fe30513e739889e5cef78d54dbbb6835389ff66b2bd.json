{"ast":null,"code":"import Auth from'../helpers/Auth.ts';//** Action Creators **//\nexport const setCart=cart=>{return{type:'SET_CART',cart};};// export const setEmail = email => {\n//   return {\n//     type: 'SET_EMAIL',\n//     email\n//   }\n// }\nexport const addProductToCart=product=>{return{type:'ADD_PRODUCT_TO_CART',product};};const removeItemFromCart=product=>{return{type:'REMOVE_PRODUCT',product};};// ** Async Actions ** //\nexport const getCartItems=()=>{return dispatch=>{return fetch('http://localhost:3001/api/profile',{method:'GET',headers:{token:Auth.getToken(),Authorization:`Token ${Auth.getToken()}`}}).then(res=>res.json()).then(cart=>dispatch(setCart(cart))).catch(error=>console.log(error));};};export const addToCart=props=>{return dispatch=>{fetch('http://localhost:3001/api/line_items',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:props})}).then(res=>res.json()).then(product=>{dispatch(addProductToCart(product));}).catch(error=>console.log(error));};};export const removeFromCart=props=>{console.log(props);return dispatch=>{fetch(`http://localhost:3001/api/line_items/${props}`,{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:props})}).then(res=>res.json()).then(line_item=>{dispatch(removeItemFromCart(line_item));}).then(dispatch(getCartItems())).catch(error=>console.log(error));};};","map":{"version":3,"names":["Auth","setCart","cart","type","addProductToCart","product","removeItemFromCart","getCartItems","dispatch","fetch","method","headers","token","getToken","Authorization","then","res","json","catch","error","console","log","addToCart","props","body","JSON","stringify","data","removeFromCart","line_item"],"sources":["/Users/kristinreddington/Github/S.Dali-Shop/src/actions/cartActions.jsx"],"sourcesContent":["import Auth from '../helpers/Auth.ts';\n//** Action Creators **//\n\nexport const setCart = cart => {\n  return {\n    type: 'SET_CART',\n    cart\n  }\n}\n\n// export const setEmail = email => {\n//   return {\n//     type: 'SET_EMAIL',\n//     email\n//   }\n// }\n\nexport const addProductToCart = product => {\n  return {\n    type: 'ADD_PRODUCT_TO_CART',\n    product\n  }\n}\n\nconst removeItemFromCart = product => {\n  return {\n    type: 'REMOVE_PRODUCT',\n    product\n  }\n}\n// ** Async Actions ** //\n\nexport const getCartItems = () => {\n  return (dispatch) => {\n    return fetch('http://localhost:3001/api/profile', {\n      method: 'GET',\n      headers: {\n        token: Auth.getToken(),\n        Authorization: `Token ${Auth.getToken()}`\n      }\n    }).then(res => res.json())\n      .then(cart => dispatch(setCart(cart)))\n      .catch(error => console.log(error))\n  }\n}\n\nexport const addToCart = (props) => {\n\n  return (dispatch) => {\n    fetch('http://localhost:3001/api/line_items', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n       body: JSON.stringify({ data: props })\n     })\n      .then(res => res.json())\n      .then(product => {\n        dispatch(addProductToCart(product))\n    })\n    .catch(error => console.log(error))\n  }\n}\n\nexport const removeFromCart = (props) => {\n  console.log(props)\n  return (dispatch) => {\n    fetch(`http://localhost:3001/api/line_items/${props}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ data: props })\n    })\n      .then(res => res.json())\n      .then(line_item => {\n        dispatch(removeItemFromCart(line_item))\n      })\n      .then(dispatch(getCartItems()))\n      .catch(error => console.log(error))\n  }\n}\n"],"mappings":"AAAA,MAAO,CAAAA,IAAI,KAAM,oBAAoB,CACrC;AAEA,MAAO,MAAM,CAAAC,OAAO,CAAGC,IAAI,EAAI,CAC7B,MAAO,CACLC,IAAI,CAAE,UAAU,CAChBD,IACF,CAAC,CACH,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AAEA,MAAO,MAAM,CAAAE,gBAAgB,CAAGC,OAAO,EAAI,CACzC,MAAO,CACLF,IAAI,CAAE,qBAAqB,CAC3BE,OACF,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAGD,OAAO,EAAI,CACpC,MAAO,CACLF,IAAI,CAAE,gBAAgB,CACtBE,OACF,CAAC,CACH,CAAC,CACD;AAEA,MAAO,MAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CAChC,MAAQ,CAAAC,QAAQ,EAAK,CACnB,MAAO,CAAAC,KAAK,CAAC,mCAAmC,CAAE,CAChDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,KAAK,CAAEZ,IAAI,CAACa,QAAQ,CAAC,CAAC,CACtBC,aAAa,CAAE,SAASd,IAAI,CAACa,QAAQ,CAAC,CAAC,EACzC,CACF,CAAC,CAAC,CAACE,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACb,IAAI,EAAIM,QAAQ,CAACP,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,CACrCgB,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC,CACvC,CAAC,CACH,CAAC,CAED,MAAO,MAAM,CAAAG,SAAS,CAAIC,KAAK,EAAK,CAElC,MAAQ,CAAAf,QAAQ,EAAK,CACnBC,KAAK,CAAC,sCAAsC,CAAE,CAC5CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACAa,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,IAAI,CAAEJ,KAAM,CAAC,CACtC,CAAC,CAAC,CACAR,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACV,OAAO,EAAI,CACfG,QAAQ,CAACJ,gBAAgB,CAACC,OAAO,CAAC,CAAC,CACvC,CAAC,CAAC,CACDa,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC,CACrC,CAAC,CACH,CAAC,CAED,MAAO,MAAM,CAAAS,cAAc,CAAIL,KAAK,EAAK,CACvCH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC,CAClB,MAAQ,CAAAf,QAAQ,EAAK,CACnBC,KAAK,CAAC,wCAAwCc,KAAK,EAAE,CAAE,CACrDb,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDa,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,IAAI,CAAEJ,KAAM,CAAC,CACtC,CAAC,CAAC,CACCR,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACc,SAAS,EAAI,CACjBrB,QAAQ,CAACF,kBAAkB,CAACuB,SAAS,CAAC,CAAC,CACzC,CAAC,CAAC,CACDd,IAAI,CAACP,QAAQ,CAACD,YAAY,CAAC,CAAC,CAAC,CAAC,CAC9BW,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC,CACvC,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}