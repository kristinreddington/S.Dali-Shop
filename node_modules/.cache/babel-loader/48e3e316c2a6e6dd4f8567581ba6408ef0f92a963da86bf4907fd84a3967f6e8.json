{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{loadStripe}from\"@stripe/stripe-js\";import{Elements}from\"@stripe/react-stripe-js\";import CheckoutForm from\"./CheckoutForm\";// Make sure to call loadStripe outside of a component’s render to avoid\n// recreating the Stripe object on every render.\n// This is a public sample test API key.\n// Don’t submit any personally identifiable information in requests made with this key.\n// Sign in to see your own test API key embedded in code samples.\nimport{jsx as _jsx}from\"react/jsx-runtime\";const stripePromise=loadStripe(`${process.env.REACT_APP_STRIPE_API_KEY}`);export default function Stripe(product){const[clientSecret,setClientSecret]=useState(\"\");useEffect(()=>{console.log(product);// Create PaymentIntent as soon as the page loads\nfetch(\"http://localhost:3001/api/checkout\",{method:\"POST\",headers:{\"Access-Control-Allow-Origin\":\"*\",\"Content-Type\":\"application/json\"},body:JSON.stringify({data:product.product})}).then(res=>res.json()).then(data=>setClientSecret(data.clientSecret));console.log(product);console.log(stripePromise);},[]);const appearance={theme:'stripe'};const options={clientSecret,appearance};return/*#__PURE__*/_jsx(\"div\",{children:clientSecret&&/*#__PURE__*/_jsx(Elements,{options:options,stripe:stripePromise,children:/*#__PURE__*/_jsx(CheckoutForm,{})})});}","map":{"version":3,"names":["React","useState","useEffect","loadStripe","Elements","CheckoutForm","jsx","_jsx","stripePromise","process","env","REACT_APP_STRIPE_API_KEY","Stripe","product","clientSecret","setClientSecret","console","log","fetch","method","headers","body","JSON","stringify","data","then","res","json","appearance","theme","options","children","stripe"],"sources":["/Users/kristinreddington/Github/S.Dali-Shop/src/containers/Stripe.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport CheckoutForm from \"./CheckoutForm\";\n\n// Make sure to call loadStripe outside of a component’s render to avoid\n// recreating the Stripe object on every render.\n// This is a public sample test API key.\n// Don’t submit any personally identifiable information in requests made with this key.\n// Sign in to see your own test API key embedded in code samples.\nconst stripePromise = loadStripe(`${process.env.REACT_APP_STRIPE_API_KEY}`);\nexport default function Stripe(product) {\n  const [clientSecret, setClientSecret] = useState(\"\");\n\n  useEffect(() => {\n    console.log(product);\n    // Create PaymentIntent as soon as the page loads\n    fetch(\"http://localhost:3001/api/checkout\", {\n      method: \"POST\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ data: product.product })\n    })\n    .then((res) => res.json())\n    .then((data) => setClientSecret(data.clientSecret))\n      console.log(product);\n      console.log(stripePromise);\n  }, []);\n\n  const appearance = {\n    theme: 'stripe',\n  };\n  const options = {\n    clientSecret,\n    appearance,\n  };\n\n  return (\n    <div>\n      {clientSecret && (\n        <Elements options={options} stripe={stripePromise}>\n          <CheckoutForm />\n        </Elements>\n      )}\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,KAAQ,mBAAmB,CAC9C,OAASC,QAAQ,KAAQ,yBAAyB,CAClD,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CAEzC;AACA;AACA;AACA;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,KAAM,CAAAC,aAAa,CAAGL,UAAU,CAAC,GAAGM,OAAO,CAACC,GAAG,CAACC,wBAAwB,EAAE,CAAC,CAC3E,cAAe,SAAS,CAAAC,MAAMA,CAACC,OAAO,CAAE,CACtC,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACdc,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC,CACpB;AACAK,KAAK,CAAC,oCAAoC,CAAE,CAC1CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,6BAA6B,CAAE,GAAG,CAClC,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,IAAI,CAAEX,OAAO,CAACA,OAAQ,CAAC,CAC9C,CAAC,CAAC,CACDY,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAED,IAAI,EAAKT,eAAe,CAACS,IAAI,CAACV,YAAY,CAAC,CAAC,CACjDE,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC,CACpBG,OAAO,CAACC,GAAG,CAACT,aAAa,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAoB,UAAU,CAAG,CACjBC,KAAK,CAAE,QACT,CAAC,CACD,KAAM,CAAAC,OAAO,CAAG,CACdhB,YAAY,CACZc,UACF,CAAC,CAED,mBACErB,IAAA,QAAAwB,QAAA,CACGjB,YAAY,eACXP,IAAA,CAACH,QAAQ,EAAC0B,OAAO,CAAEA,OAAQ,CAACE,MAAM,CAAExB,aAAc,CAAAuB,QAAA,cAChDxB,IAAA,CAACF,YAAY,GAAE,CAAC,CACR,CACX,CACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}