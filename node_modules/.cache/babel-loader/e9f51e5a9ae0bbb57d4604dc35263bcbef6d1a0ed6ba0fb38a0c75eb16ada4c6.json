{"ast":null,"code":"import $ from\"jquery\";// ** Async Actions ** //\nconst setPosts=posts=>{return{type:\"GET_POSTS_SUCCESS\",posts};};let posts=[];let postsTwo=[];export const getPosts=()=>{return dispatch=>{let limit=50;// set this to any value you want up to 50.\nconst retrieveMore=function(offset){const OAUTH_API_KEY=import.meta.env.OAUTH_API_KEY;$.ajax({url:`https://api.tumblr.com/v2/blog/somewhatadrift.tumblr.com/posts/photo?offset=${offset}&limit=${limit}&oauth_signature_method=HMAC-SHA1&oauth_timestamp=1534134287&oauth_nonce=vB3KXh&oauth_version=1.0&oauth_signature=l3UOWPW1GXHI616cQ6enosymB8k=&api_key=${OAUTH_API_KEY}`,type:\"GET\",context:this,success:function(result){console.log(result);const totalPosts=result.response.total_posts;const postLength=result.response.posts.length;const filteredPosts=result.response.posts.filter(post=>post.type===\"photo\");filteredPosts.forEach(post=>postsTwo.push(post));if(offset<totalPosts){offset+=51;console.log(offset);return retrieveMore(offset);}else{posts=postsTwo;dispatch(setPosts(posts));}}});};retrieveMore(0);};};","map":{"version":3,"names":["$","setPosts","posts","type","postsTwo","getPosts","dispatch","limit","retrieveMore","offset","OAUTH_API_KEY","import","meta","env","ajax","url","context","success","result","console","log","totalPosts","response","total_posts","postLength","length","filteredPosts","filter","post","forEach","push"],"sources":["/Users/kristinreddington/Github/S.Dali-Shop/src/actions/postActions.jsx"],"sourcesContent":["import $ from \"jquery\";\n\n// ** Async Actions ** //\n\nconst setPosts = (posts) => {\n  return {\n    type: \"GET_POSTS_SUCCESS\",\n    posts,\n  };\n};\n\nlet posts = [];\nlet postsTwo = [];\nexport const getPosts = () => {\n  return (dispatch) => {\n    let limit = 50; // set this to any value you want up to 50.\n    const retrieveMore = function (offset) {\n      const OAUTH_API_KEY = import.meta.env.OAUTH_API_KEY\n      $.ajax({\n        url: `https://api.tumblr.com/v2/blog/somewhatadrift.tumblr.com/posts/photo?offset=${offset}&limit=${limit}&oauth_signature_method=HMAC-SHA1&oauth_timestamp=1534134287&oauth_nonce=vB3KXh&oauth_version=1.0&oauth_signature=l3UOWPW1GXHI616cQ6enosymB8k=&api_key=${OAUTH_API_KEY}`,\n        type: \"GET\",\n        context: this,\n        success: function (result) {\n          console.log(result);\n          const totalPosts = result.response.total_posts;\n          const postLength = result.response.posts.length;\n          const filteredPosts = result.response.posts.filter(\n            (post) => post.type === \"photo\"\n          );\n          filteredPosts.forEach((post) => postsTwo.push(post));\n          if (offset < totalPosts) {\n            offset += 51;\n            console.log(offset);\n            return retrieveMore(offset);\n          } else {\n            posts = postsTwo;\n            dispatch(setPosts(posts));\n          }\n        },\n      });\n    };\n    retrieveMore(0);\n  };\n};\n"],"mappings":"AAAA,MAAO,CAAAA,CAAC,KAAM,QAAQ,CAEtB;AAEA,KAAM,CAAAC,QAAQ,CAAIC,KAAK,EAAK,CAC1B,MAAO,CACLC,IAAI,CAAE,mBAAmB,CACzBD,KACF,CAAC,CACH,CAAC,CAED,GAAI,CAAAA,KAAK,CAAG,EAAE,CACd,GAAI,CAAAE,QAAQ,CAAG,EAAE,CACjB,MAAO,MAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CAC5B,MAAQ,CAAAC,QAAQ,EAAK,CACnB,GAAI,CAAAC,KAAK,CAAG,EAAE,CAAE;AAChB,KAAM,CAAAC,YAAY,CAAG,QAAAA,CAAUC,MAAM,CAAE,CACrC,KAAM,CAAAC,aAAa,CAAGC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACH,aAAa,CACnDV,CAAC,CAACc,IAAI,CAAC,CACLC,GAAG,CAAE,+EAA+EN,MAAM,UAAUF,KAAK,0JAA0JG,aAAa,EAAE,CAClRP,IAAI,CAAE,KAAK,CACXa,OAAO,CAAE,IAAI,CACbC,OAAO,CAAE,QAAAA,CAAUC,MAAM,CAAE,CACzBC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACnB,KAAM,CAAAG,UAAU,CAAGH,MAAM,CAACI,QAAQ,CAACC,WAAW,CAC9C,KAAM,CAAAC,UAAU,CAAGN,MAAM,CAACI,QAAQ,CAACpB,KAAK,CAACuB,MAAM,CAC/C,KAAM,CAAAC,aAAa,CAAGR,MAAM,CAACI,QAAQ,CAACpB,KAAK,CAACyB,MAAM,CAC/CC,IAAI,EAAKA,IAAI,CAACzB,IAAI,GAAK,OAC1B,CAAC,CACDuB,aAAa,CAACG,OAAO,CAAED,IAAI,EAAKxB,QAAQ,CAAC0B,IAAI,CAACF,IAAI,CAAC,CAAC,CACpD,GAAInB,MAAM,CAAGY,UAAU,CAAE,CACvBZ,MAAM,EAAI,EAAE,CACZU,OAAO,CAACC,GAAG,CAACX,MAAM,CAAC,CACnB,MAAO,CAAAD,YAAY,CAACC,MAAM,CAAC,CAC7B,CAAC,IAAM,CACLP,KAAK,CAAGE,QAAQ,CAChBE,QAAQ,CAACL,QAAQ,CAACC,KAAK,CAAC,CAAC,CAC3B,CACF,CACF,CAAC,CAAC,CACJ,CAAC,CACDM,YAAY,CAAC,CAAC,CAAC,CACjB,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}